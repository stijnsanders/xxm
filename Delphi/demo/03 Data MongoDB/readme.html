<link rel="stylesheet" type="text/css" href="http://xxm.sourceforge.net/xxm.css" />
<h3>xxm Demo Projects - 03 Data MongoDB</h3>
<p>This is a demo project showing how to set up a database connection in an xxm project, using TMongoWire.</p>
<p>Download MongoDB from <a href="http://www.mongodb.org/downloads">www.mongodb.org</a>.</p>
<p>Download bsonDoc.pas and mongoWire.pas from <a href="https://github.com/stijnsanders/TMongoWire">github.com/stijnsanders/TMongoWire</a>.</p>
<p style="background-color:gold;padding:0.4em;"><b>Important:</b> Some website-platforms use multiple processes to host a website.
Since this demonstration project uses a single TStringList object to store session data under the sorted SessionID's,
the processes won't be able to access eachother's session data in this case, which results in unexpected behavior.<br />
For advanced projects it is strongly advised to use a central session object store (e.g.: a database, COM or COM+ server),
or to disable multiple processes (IIS: limit to 1 worker processes, Apache: single-process mode "-X")</p>
<dl>
<dt>Web.xxmp</dt>
<dd>The project file, contains an internal list of the files of the project, and other data about the project.<br />
Use <i>xxmProject.exe</i> to edit and manage project settings.</dd>
<dt>xxmp.pas</dt>
<dd>The project's main unit. When this file is missing form the project, xxm creates one for you.<br />
This one has been modified to include the <code>SetSession(Context);</code> call on LoadPage, linking each request to a new or existing session.</dd>
<dt>jsonDoc.pas</dt>
<dd>This unit defines IJSONDocument, used by TMongoWire</dd>
<dt>bsonTools.pas</dt>
<dd>This unit defines JSON to BSON conversion tools, used by TMongoWire</dd>
<dt>simlpeSock.pas</dt>
<dd>This unit defines networking tools, used by TMongoWire</dd>
<dt>mongoWire.pas</dt>
<dd>This unit defines the TMongoWire and TMongoWireQuery classes used to connect to MongoDB.</dd>
<dt>xxmSession.pas</dt>
<dd>This unit defines the TxxmSession class. This website uses a single database connection for each worker thread.</dd>
<dt>Default.xxm</dt>
<dd>The website's default page. It lists the items of collection <code>xxmdemo1</code>, displaying an <i>edit</i> and <i>delete</i> link for each item. It also displays an <i>add</i> link.
When looping over the query result, <code>Context.Connected</code> is checked, allowing the visitor to abort building the page when the list gets too long.</dd>
<dt>Edit.xxm</dt>
<dd>This page edits or adds an item in <code>Table1</code>.</dd>
<dt>Delete.xxm</dt>
<dd>This page delete an item of <code>Table1</code>.</dd>
</dl>